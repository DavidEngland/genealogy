# GEDCOM Bio Quality Ranker

Ranks GEDCOM biographies by completeness/quality based on notes, sources, and core events. Designed to surface profiles that still contain the original GEDCOM-import boilerplate or lack sources.

## Usage

```bash
php scripts/gedcom_bio_quality.php --input GEDs/George-Washington-Lawson-1614.ged \
  --out sources/george-washington-lawson-1614-bio-quality.json \
  --out-md sources/george-washington-lawson-1614-bio-quality.md \
  --out-csv sources/george-washington-lawson-1614-bio-quality.csv
```

Filter for items needing work:

```bash
php scripts/gedcom_bio_quality.php --input GEDs/George-Washington-Lawson-1614.ged \
  --status needs-work --out-md sources/needs-work.md
```

## How Scoring Works (Default)

Bonuses:
- Biography section, Sources section, and references
- Birth/death dates and places
- Parents, spouse, children linked in GEDCOM
- Note length (longer notes score higher)
- External IDs and categories/templates

Penalties:
- GEDCOM import boilerplate (auto-generated, rough draft, Needs Sources)
- “Please edit…” placeholder text
- “Family Information (Needs Sources)” and “Family Tradition (Needs Sources)” blocks

## Config Overrides

Create a JSON file to override weights and penalties. Example:

```json
{
  "weights": {
    "hasBiography": 8,
    "noteLength": [{"min": 600, "score": 12}]
  },
  "penalties": [
    {"pattern": "/auto-generated by a GEDCOM import/i", "score": -50, "flag": "auto_generated"}
  ],
  "thresholds": {"ok": 75, "review": 45}
}
```

Then run:

```bash
php scripts/gedcom_bio_quality.php --input GEDs/example.ged --config scripts/bio-quality-config.json --out-md sources/report.md
```
