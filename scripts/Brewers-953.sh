php /Users/davidengland/Documents/GitHub/genealogy/scripts/wikitree_fetch.php --profile 579","Brewer-954","Brewer-12401","Brewer-9657","Brewer-12402","Brewer-12403","Brewer-12404","Brewer-10859"]; $base="/Users/davidengland/Documents/GitHub/genealogy/profiles"; foreach($ids as $id){$file=$base."/".strtoupper($id[0])."/$id.json"; if(!is_file($file)){echo "$id: MISSING\n"; continue;} $data=json_decode(file_get_contents($file),true); $profile=$data["profile"]??$data["items"][0]["person"]??null; if(!$profile){echo "$id: NO_PROFILE\n"; continue;} $spouses=$profile["Spouses"]??[]; $spouseIds=[]; foreach($spouses as $sp){ if(is_array($sp)&&isset($sp["Name"])) $spouseIds[]=$sp["Name"]; } $spouseIds=array_unique($spouseIds); echo $id.": ".(empty($spouseIds)?"(no spouses)":implode(",",$spouseIds))."\n"; }'Brewer-12401 --relatives